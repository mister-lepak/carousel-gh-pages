(this.webpackJsonp99carousel=this.webpackJsonp99carousel||[]).push([[0],{10:function(e,t,n){},16:function(e,t,n){e.exports=n.p+"static/media/left-arrow.3ba9235b.svg"},17:function(e,t,n){e.exports=n.p+"static/media/right-arrow.2584d983.svg"},19:function(e,t,n){e.exports=n.p+"static/media/black-left-arrow.ff240b20.svg"},20:function(e,t,n){e.exports=n.p+"static/media/black-right-arrow.19c04260.svg"},21:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},24:function(e,t,n){e.exports=n(42)},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),s=n.n(c),i=n(1),o=n(12),l=n(5);var u=n(14),m=n(15),d=n(23),f=n(22),p=n(3),g=n(16),E=n.n(g),b=n(17),h=n.n(b),v=function(e){var t=e.listing,n=Object(a.useState)(0),c=Object(p.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)(0),l=Object(p.a)(o,2),u=l[0],m=l[1],d=Object(a.useState)({transform:"translateX(0px)"}),f=Object(p.a)(d,2),g=f[0],b=f[1],v=Object(a.useState)(0),I=Object(p.a)(v,2),O=I[0],N=(I[1],Object(a.useState)({transform:"translateX(0px)"})),_=Object(p.a)(N,2),y=_[0],x=_[1];Object(a.useEffect)((function(){b({transform:"translateX(".concat(u,"px)")}),x({transform:"translateX(".concat(O,"px)")})}),[u,O]);var j=function(e){var n=s+e;n>=0&&n<t.photos.length&&i(n)},R=function(e){e-2>0&&e<t.photos.length-2?m(-20*(e-2)):e>=t.photos.length-2&&e<=t.photos.length||m((function(e){return 0*e}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),j(-1),R(s)},className:"item1"},r.a.createElement("img",{src:E.a})),r.a.createElement("div",{className:"item2"},r.a.createElement("div",{className:"imagesList",style:y},t.photos.map((function(e,t){var n="images";return t===s&&(n="images active"),r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:e.url,className:"".concat(n)}))})))),r.a.createElement("div",{className:"item4"},r.a.createElement("ul",{className:"imageButtons",style:g},t.photos.map((function(e,t){var n="buttons";return t===s&&(n="buttons active"),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:n,onClick:function(){j(t-s),R(t)}}))})))),r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),j(1),R(s)},className:"item3"},r.a.createElement("img",{src:h.a})))},I=(n(10),function(e){var t=e.listing,n=e.cssId;return r.a.createElement("p",{id:n},r.a.createElement("div",{className:"photo-wrapper"},r.a.createElement(v,{listing:t})),r.a.createElement("div",{className:"metaData"},r.a.createElement("p",{className:"category"},"".concat(t.sub_category_formatted.toUpperCase()," FOR ").concat(t.listing_type.toUpperCase())),r.a.createElement("h4",{className:"price"},t.attributes.price_formatted),r.a.createElement("p",{className:"details"},t.address_line_1),r.a.createElement("p",{className:"details"},"".concat(t.attributes.bedrooms_formatted," ").concat(t.attributes.bathrooms_formatted," ").concat(t.attributes.area_size_formatted))))}),O=n(18),N=n.n(O);function _(e){N.a.get("https://www.99.co/api/v1/web/search/listings?query_limit=radius&query_type=city&page_size=20&zoom=11&listing_type=sale&query_coords=1.3039947,103.8298507&page_num=1&radius_max=1000&map_bounds=1.5827095153768858,103.49449749970108,1.1090706240313446,104.12483807587296").then((function(t){var n=t.body.data.sections[0].listings;e(function(e){return{listings:e,type:"UPDATE_LISTINGS"}}(n))}),(function(){e({type:"FETCH_LISTINGS_ERROR"})}))}var y=n(19),x=n.n(y),j=n(20),R=n.n(j);var w=Object(l.b)((function(e){return{listings:e.listings.listings,firstRender:e.listings.firstRender,startIndex:e.listings.startIndex,endIndex:e.listings.endIndex}}),(function(e){return{fetchData:function(){e(_)},increment:function(){e({type:"INCREMENT"})},decrement:function(){e({type:"DECREMENT"})},triggerRender:function(){e({type:"TRIGGER_RENDER"})}}}))((function(e){var t=e.startIndex,n=e.endIndex,c=e.listings,s=e.fetchData,i=e.increment,o=e.decrement,l=e.triggerRender;if(Object(a.useEffect)((function(){l(),s()}),[]),!c)return null;console.log("LISTINGS",c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{id:"mainTitle"},"Listings with videos"),r.a.createElement("button",{href:"#",id:"leftArrow",onClick:o},r.a.createElement("img",{src:x.a})),c.map((function(e,a){if(a>=t&&a<=n)return r.a.createElement(I,{cssId:"listItem",key:a,listing:e})})),r.a.createElement("button",{href:"#",id:"rightArrow",onClick:function(){return n>=c.length-3&&n<=c.length?(l(),s()):i()}},r.a.createElement("img",{src:R.a})))})),S=n(21),T=n.n(S),C=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("img",{src:T.a,className:"App-logo",alt:"logo"}),r.a.createElement("h2",null,"Listing Carousel Test by 99.co")),r.a.createElement(w,null))}}]),n}(a.Component),D=n(2);var k=Object(i.c)({listings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n="undefined"===typeof e.startIndex?0:e.startIndex,a="undefined"===typeof e.endIndex?3:e.endIndex;switch(t.type){case"UPDATE_LISTINGS":var r="undefined"===typeof e.listings?[]:e.listings;return e.firstRender?{listings:r.concat(t.listings),firstRender:!1,startIndex:n,endIndex:a}:e;case"DECREMENT":return n>0?Object(D.a)(Object(D.a)({},e),{},{startIndex:n-4,endIndex:a-4}):e;case"INCREMENT":return Object(D.a)(Object(D.a)({},e),{},{startIndex:n+4,endIndex:a+4});case"TRIGGER_RENDER":return Object(D.a)(Object(D.a)({},e),{},{firstRender:!0});default:return e}}}),G=(n(41),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d),L=Object(i.e)(k,G(Object(i.a)((function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){return"function"===typeof a?a(t,n):console.log(a.type),e(a)}}}),o.a)));s.a.render(r.a.createElement(l.a,{store:L},r.a.createElement(C,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.674111db.chunk.js.map