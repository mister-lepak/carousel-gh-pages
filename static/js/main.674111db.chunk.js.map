{"version":3,"sources":["left-arrow.svg","right-arrow.svg","black-left-arrow.svg","black-right-arrow.svg","logo.svg","components/ImageComponent.js","components/ListingItem.js","actions/listings.js","components/ListingCarousel.js","App.js","reducers/index.js","reducers/listings.js","index.js","middlewares/log.js"],"names":["module","exports","ImageComponent","listing","useState","activeIndex","setActiveIndex","xVal","setXVal","transform","transformXStyle","setTransformXStyle","imageXVal","transformImageXStyle","setTransformImageXStyle","useEffect","imageNavigation","val","newVal","photos","length","navBarSlide","indexInput","prevState","href","onClick","e","preventDefault","className","src","leftArrowPic","style","map","photo","index","imageClass","url","buttonClass","rightArrowPic","ListingItem","cssId","id","sub_category_formatted","toUpperCase","listing_type","attributes","price_formatted","address_line_1","bedrooms_formatted","bathrooms_formatted","area_size_formatted","fetchData","dispatch","superagent","get","then","res","listings","body","data","sections","type","updateListings","connect","state","firstRender","startIndex","endIndex","increment","decrement","triggerRender","console","log","key","App","logo","alt","Component","combineReducers","action","oldStartIndex","oldEndIndex","oldListings","concat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","getState","n","a","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.674111db.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/left-arrow.3ba9235b.svg\";","module.exports = __webpack_public_path__ + \"static/media/right-arrow.2584d983.svg\";","module.exports = __webpack_public_path__ + \"static/media/black-left-arrow.ff240b20.svg\";","module.exports = __webpack_public_path__ + \"static/media/black-right-arrow.19c04260.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { useEffect, useState } from \"react\";\nimport leftArrowPic from \"../left-arrow.svg\";\nimport rightArrowPic from \"../right-arrow.svg\";\n\nconst ImageComponent = ({ listing }) => {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [xVal, setXVal] = useState(0);\n  const [transformXStyle, setTransformXStyle] = useState({\n    transform: \"translateX(0px)\",\n  });\n  const [imageXVal, setImageXVal] = useState(0);\n  const [transformImageXStyle, setTransformImageXStyle] = useState({\n    transform: \"translateX(0px)\",\n  });\n\n  useEffect(() => {\n    setTransformXStyle({ transform: `translateX(${xVal}px)` });\n    setTransformImageXStyle({ transform: `translateX(${imageXVal}px)` });\n  }, [xVal, imageXVal]);\n\n  const renderImages = () => {\n    return listing.photos.map((photo, index) => {\n      let imageClass = \"images\";\n      if (index === activeIndex) {\n        imageClass = \"images active\";\n      }\n      return (\n        <>\n          <img src={photo.url} className={`${imageClass}`} />\n        </>\n      );\n    });\n  };\n\n  const imageNavigation = (val) => {\n    const newVal = activeIndex + val;\n    if (newVal >= 0 && newVal < listing.photos.length) {\n      setActiveIndex(newVal);\n    }\n  };\n  const navBarSlide = (indexInput) => {\n    if (indexInput - 2 > 0 && indexInput < listing.photos.length - 2) {\n      setXVal((indexInput - 2) * -20);\n    } else if (\n      indexInput >= listing.photos.length - 2 &&\n      indexInput <= listing.photos.length\n    ) {\n    } else {\n      setXVal((prevState) => prevState * 0);\n    }\n  };\n\n  const renderNavButtons = () => {\n    return listing.photos.map((photo, index) => {\n      let buttonClass = \"buttons\";\n      if (index === activeIndex) buttonClass = \"buttons active\";\n\n      return (\n        <>\n          <button\n            className={buttonClass}\n            onClick={() => {\n              imageNavigation(index - activeIndex);\n              navBarSlide(index);\n            }}\n          ></button>\n        </>\n      );\n    });\n  };\n\n  return (\n    <>\n      <a\n        href=\"#\"\n        onClick={(e) => {\n          e.preventDefault();\n          imageNavigation(-1);\n          navBarSlide(activeIndex);\n        }}\n        className=\"item1\"\n      >\n        <img src={leftArrowPic} />\n      </a>\n\n      <div className=\"item2\">\n        <div className=\"imagesList\" style={transformImageXStyle}>\n          {renderImages()}\n        </div>\n      </div>\n\n      <div className=\"item4\">\n        <ul className=\"imageButtons\" style={transformXStyle}>\n          {renderNavButtons()}\n        </ul>\n      </div>\n      <a\n        href=\"#\"\n        onClick={(e) => {\n          e.preventDefault();\n          imageNavigation(1);\n          navBarSlide(activeIndex);\n        }}\n        className=\"item3\"\n      >\n        <img src={rightArrowPic} />\n      </a>\n    </>\n  );\n};\n\nexport default ImageComponent;\n","import React from \"react\";\nimport ImageComponent from \"./ImageComponent\";\nimport appCSS from \"../App.css\";\n\nconst ListingItem = ({ listing, cssId }) => {\n  return (\n    <p id={cssId}>\n      <div className=\"photo-wrapper\">\n        <ImageComponent listing={listing} />\n      </div>\n      <div className=\"metaData\">\n        <p className=\"category\">{`${listing.sub_category_formatted.toUpperCase()} FOR ${listing.listing_type.toUpperCase()}`}</p>\n        <h4 className=\"price\">{listing.attributes.price_formatted}</h4>\n        <p className=\"details\">{listing.address_line_1}</p>\n        <p className=\"details\">{`${listing.attributes.bedrooms_formatted} ${listing.attributes.bathrooms_formatted} ${listing.attributes.area_size_formatted}`}</p>\n      </div>\n    </p>\n  );\n};\n\nexport default ListingItem;\n","import superagent from \"superagent\";\n\nexport const UPDATE_LISTINGS = \"UPDATE_LISTINGS\";\nexport const FETCH_LISTINGS_ERROR = \"FETCH_LISTINGS_ERROR\";\nexport const INCREMENT = \"INCREMENT\";\nexport const DECREMENT = \"DECREMENT\";\nexport const TRIGGER_RENDER = \"TRIGGER_RENDER\";\n\nexport function updateListings(listings) {\n  return {\n    listings,\n    type: UPDATE_LISTINGS,\n  };\n}\n\nexport function fetchListingsError() {\n  return {\n    type: FETCH_LISTINGS_ERROR,\n  };\n}\n\nexport function fetchData(dispatch) {\n  superagent\n    .get(\n      \"https://www.99.co/api/v1/web/search/listings?query_limit=radius&query_type=city&page_size=20&zoom=11&listing_type=sale&query_coords=1.3039947,103.8298507&page_num=1&radius_max=1000&map_bounds=1.5827095153768858,103.49449749970108,1.1090706240313446,104.12483807587296\"\n    )\n    .then(\n      (res) => {\n        const data = res.body.data;\n        const listings = data.sections[0].listings;\n        dispatch(updateListings(listings));\n      },\n      () => {\n        dispatch(fetchListingsError());\n      }\n    );\n}\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport ListingItem from \"./ListingItem\";\nimport { fetchData, fetchDataIncrement } from \"../actions/listings\";\nimport leftArrowPic from \"../black-left-arrow.svg\";\nimport rightArrowPic from \"../black-right-arrow.svg\";\n\nfunction mapStateToProps(state) {\n  return {\n    listings: state.listings.listings,\n    firstRender: state.listings.firstRender,\n    startIndex: state.listings.startIndex,\n    endIndex: state.listings.endIndex,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    fetchData: () => {\n      dispatch(fetchData);\n    },\n    increment: () => {\n      dispatch({ type: \"INCREMENT\" });\n    },\n    decrement: () => {\n      dispatch({ type: \"DECREMENT\" });\n    },\n    triggerRender: () => {\n      dispatch({ type: \"TRIGGER_RENDER\" });\n    },\n  };\n}\n\nconst ListingCarousel = ({\n  startIndex,\n  endIndex,\n  listings,\n  fetchData,\n  increment,\n  decrement,\n  triggerRender,\n}) => {\n  useEffect(() => {\n    triggerRender();\n    fetchData();\n  }, []);\n\n  if (!listings) return null;\n  console.log(\"LISTINGS\", listings);\n\n  const iterateListings = () => {\n    return listings.map((listing, index) => {\n      if (index >= startIndex && index <= endIndex) {\n        return <ListingItem cssId=\"listItem\" key={index} listing={listing} />;\n      }\n    });\n  };\n\n  const assessIncrement = () => {\n    if (endIndex >= listings.length - 3 && endIndex <= listings.length) {\n      triggerRender();\n      return fetchData();\n    }\n    return increment();\n  };\n\n  return (\n    <>\n      <h1 id=\"mainTitle\">Listings with videos</h1>\n      <button href=\"#\" id=\"leftArrow\" onClick={decrement}>\n        <img src={leftArrowPic} />\n      </button>\n      {iterateListings()}\n      <button href=\"#\" id=\"rightArrow\" onClick={() => assessIncrement()}>\n        <img src={rightArrowPic} />\n      </button>\n    </>\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListingCarousel);\n","import React, { Component } from 'react';\nimport ListingCarousel from './components/ListingCarousel';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h2>Listing Carousel Test by 99.co</h2>\n        </div>\n        <ListingCarousel />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport listings from './listings';\n\nexport default combineReducers({\n  listings,\n});\n","import {\n  UPDATE_LISTINGS,\n  DECREMENT,\n  INCREMENT,\n  TRIGGER_RENDER,\n} from \"../actions/listings\";\n\nexport default function listings(state = [], action) {\n  const oldStartIndex =\n    typeof state.startIndex === \"undefined\" ? 0 : state.startIndex;\n  const oldEndIndex =\n    typeof state.endIndex === \"undefined\" ? 3 : state.endIndex;\n\n  switch (action.type) {\n    case UPDATE_LISTINGS:\n      const oldListings =\n        typeof state.listings === \"undefined\" ? [] : state.listings;\n      if (state.firstRender) {\n        return {\n          listings: oldListings.concat(action.listings),\n          firstRender: false,\n          startIndex: oldStartIndex,\n          endIndex: oldEndIndex,\n        };\n      }\n      return state;\n\n    case DECREMENT:\n      if (oldStartIndex > 0) {\n        return {\n          ...state,\n          startIndex: oldStartIndex - 4,\n          endIndex: oldEndIndex - 4,\n        };\n      }\n      return state;\n\n    case INCREMENT:\n      return {\n        ...state,\n        startIndex: oldStartIndex + 4,\n        endIndex: oldEndIndex + 4,\n      };\n    case TRIGGER_RENDER:\n      return {\n        ...state,\n        firstRender: true,\n      };\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport log from \"./middlewares/log\";\nimport App from \"./App\";\nimport rootReducer from \"./reducers\";\nimport \"./index.css\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(log, thunk))\n);\n\nfunction render() {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n}\n\nrender();\n","export default function thunk({ dispatch, getState }) {\n  return function (n) {\n    return function (a) {\n      if (typeof a === 'function') {\n        a(dispatch, getState);\n      } else {\n        console.log(a.type);\n      }\n\n      return n(a);\n    };\n  };\n}\n"],"sourceRoot":""}